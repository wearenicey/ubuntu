<template>
	<layout>
		<div class="pt-24">
			<div>
				<div class="max-w-7xl mx-auto pb-10 px-4 sm:py-10 sm:px-6 lg:px-8">
					<div class="text-center">
						<h1 class="mt-1 text-3xl text-primary sm:text-5xl sm:tracking-tight lg:text-5xl">Razgovor sa psihologom ili psihoterapeutom</h1>
						<p class="max-w-xl mt-5 mx-auto text-xl text-gray-500">Kontaktirajte nas a mi ćemo se pobrinuti za ostalo.</p>
					</div>
				</div>
			</div>

			<div class="sm:pt-16">
				<div class="max-w-7xl mx-auto px-4 pb-20" id="scroll">
					<div class="relative bg-white">
						<h2 class="sr-only">Kontakt informacije</h2>

						<div class="grid">
							<div class="relative overflow-hidden">

								<div class="absolute inset-0 pointer-events-none sm:hidden" aria-hidden="true">
									<svg class="absolute inset-0 w-full h-full" width="343" height="388" viewBox="0 0 343 388" fill="none" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
										<path d="M-99 461.107L608.107-246l707.103 707.107-707.103 707.103L-99 461.107z" fill="url(#linear1)" fill-opacity=".1" />
										<defs>
											<linearGradient id="linear1" x1="254.553" y1="107.554" x2="961.66" y2="814.66" gradientUnits="userSpaceOnUse">
												<stop stop-color="#fff"></stop>
												<stop offset="1" stop-color="#fff" stop-opacity="0"></stop>
											</linearGradient>
										</defs>
									</svg>
								</div>

								<div class="grid justify-center text-center py-10 px-6 sm:px-10 xl:p-12">
									<h3 class="mt-1 text-3xl text-primary sm:text-5xl sm:tracking-tight lg:text-3xl">Kontakt informacije</h3>
									<dl class=" mt-8 space-y-6">
										<p class="mt-6 text-xl text-gray-600 max-w-3xl">Novi Sad</p>
										<dt><span class="sr-only">Lokacija</span></dt>
										<dd class="flex justify-center text-base text-gray-400">
											<svg class="flex-shrink-0 w-6 h-6 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
												<path d="M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z" />
											</svg>
											<span class="ml-3"
												><a href="https://www.google.com/maps/place/An%C4%91e+Rankovi%C4%87+6,+Novi+Sad+402343/data=!4m2!3m1!1s0x475b11d01908aa3f:0x7beaf20e5cb47676?sa=X&ved=2ahUKEwjIg6uc68bzAhXegf0HHdKuDLoQ8gF6BAgSEAE" target="_blank"
													>Anđe Ranković 6/23</a
												>
											</span>
										</dd>
										<dt><span class="sr-only">Telefon</span></dt>
										<dd class="flex justify-center text-base text-gray-400">
											<svg class="flex-shrink-0 w-6 h-6 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
												<path
													stroke-linecap="round"
													stroke-linejoin="round"
													stroke-width="2"
													d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
												/>
											</svg>
											<span class="ml-3"> <a href="tel:+381658286881">065 828 6881</a></span>
										</dd>
										<dt><span class="sr-only">Email</span></dt>
										<dd class="flex justify-center text-base text-gray-400">
											<svg class="flex-shrink-0 w-6 h-6 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
											</svg>
											<span class="ml-3"><a href="mailto:psihoterapija-ns@ubuntucentar.com">psihoterapija-ns@ubuntucentar.com</a></span>
										</dd>
									</dl>
									<dl class="mt-8 space-y-6">
										<p class="mt-6 text-xl text-gray-600 max-w-3xl">Beograd</p>

										<dt><span class="sr-only">Email</span></dt>
										<dd class="flex justify-center text-base text-gray-400">
											<svg class="flex-shrink-0 w-6 h-6 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
											</svg>
											<span class="ml-3"><a href="mailto:psihoterapija-bg@ubuntucentar.com">psihoterapija-bg@ubuntucentar.com</a></span>
										</dd>
									</dl>

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</layout>
</template>

<script>
import { required, email } from "vuelidate/lib/validators";

export default {
	metaInfo: {
		title: "Razgovor sa psihoterapeutom ili psihologom",
		titleTemplate: "Razgovor sa psihoterapeutom ili psihologom",

		meta: [
			{
				name: "title",
				content: "Razgovor sa psihoterapeutom ili psihologom",
			},
			{
				name: "description",
				content: "Kontaktirajte nas i zakažite besplatnu konsultaciju, sastanak ili online savetovanje.",
			},
			{
				key: "og:title",
				name: "og:title",
				content: "Razgovor sa psihoterapeutom ili psihologom",
			},

			{
				key: "og:description",
				name: "og:description",
				content: "Kontaktirajte nas i zakažite besplatnu konsultaciju, sastanak ili online savetovanje.",
			},
			{
				key: "og:image",
				property: "og:image",
				content: "https://ubuntucentar.com/assets/static/pocenta-1.9e5588a.23e905e0f6067f80bfb7474777de8892.jpg",
			},
			{
				key: "twitter:title",
				name: "twitter:title",
				content: "Razgovor sa psihoterapeutom ili psihologom",
			},
			{
				key: "twitter:description",
				name: "twitter:description",
				content: "Kontaktirajte nas i zakažite besplatnu konsultaciju, sastanak ili online savetovanje.",
			},
			{
				key: "twitter:image",
				property: "twitter:image",
				content: "https://ubuntucentar.com/assets/static/pocenta-1.9e5588a.23e905e0f6067f80bfb7474777de8892.jpg",
			},
		],
	},

	data() {
		return {
			formData: {
				name: "",
				last: "",
				email: "",
				submitStatus: null,
				phone: "",
				message: "",
				subject: "",
				city: "Kontakt",
			},
		};
	},

	validations: {
		formData: {
			name: {
				required,
			},
			last: {
				required,
			},
			email: {
				required,
				email,
			},
			message: {
				required,
			},
			subject: {
				required,
			},
		},
	},
	methods: {
		encode(data) {
			return Object.keys(data)
				.map((key) => encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
				.join("&");
		},
		submit(e) {
			console.log("submit!");
			this.$v.$touch();
			if (this.$v.formData.$invalid) {
				this.formData.submitStatus = "ERROR";
			} else {
				fetch("/", {
					method: "POST",
					headers: { "Content-Type": "application/x-www-form-urlencoded" },
					body: this.encode({
						"form-name": e.target.getAttribute("name"),
						...this.formData,
					}),
				})
					.then(
						() => (this.formData.submitStatus = "PENDING"),

						setTimeout(() => {
							this.formData.submitStatus = "OK";
						}, 500)
					)
					.then(() => window.location.reload(3))
					.catch((error) => alert(error));
			}
		},
	},

	components: {},
};
</script>
